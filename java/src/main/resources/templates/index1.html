<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>
<body>
<div id="app">
    <el-steps :active="active" finish-status="success">
        <el-step title="更新表中的用户"></el-step>
        <el-step title="更新表中的组织"></el-step>
        <el-step title="更新表中项目"></el-step>
    </el-steps>

    <el-button style="margin-top: 12px;" @click="next">下一步</el-button>


</div>
</body>
<script type="text/javascript" src="../jquery-easyui-1.7.0/jquery.min.js"></script>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script>
    var vue = new Vue({
        el: '#app',
        data:{
            active : 0
        },
        methods:{
            next :next,updateUser:updateUser
        },
        mounted:function(){

        }
    })

    function next() {
        if (this.active ==0 ){
            updateUser();
        }

       // if (this.active++ > 2) this.active = 0;
    }



    function updateUser() {

        var surl = "../updateUser";

        $.ajax({
            url:surl,
            type: 'POST',
            dataType:'json',
            success:function(data){
                vue.active++;
            },
            error:function(data){

            }
        });
    }

    function  updateOrg() {

        var surl = "../updateOrg";

        $.ajax({
            url:surl,
            type: 'POST',
            dataType:'json',
            success:function(data){
              vue.active++;
            },
            error:function(data){

            }
        });
    }

</script>
</html>